/* 
ðŸŽ¨ STYLES.CSS - The Great Nerf War: A Capybara's Revenge

This file contains all the visual styling for our interactive story.
CSS (Cascading Style Sheets) is like the "makeup artist" for web pages -
it makes plain HTML look beautiful and professional.

Key concepts used here:
- Modern Visual Novel UI principles inspired by professional games
- Sophisticated color palette with warm yellows and rich browns
- Minimalist design that lets content shine through
- Clean typography hierarchy for maximum readability
*/

/* ==========================================================================
   GOOGLE FONTS IMPORT
   ========================================================================== */

/* INTER & MERRIWEATHER: Modern UI font + Literary serif for storytelling */
@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap');

/* ==========================================================================
   DESIGN SYSTEM - VISUAL NOVEL COLOR PALETTE
   ========================================================================== */

:root {
    /* Primary Colors - Warm Golden Palette */
    --canary: #ffe500;          /* Bright accent yellow */
    --mikado-yellow: #ffc800;   /* Primary golden yellow */
    --vanilla: #fff4ac;         /* Light cream highlights */
    --russet: #834a29;          /* Medium brown */
    --kobicha: #674019;         /* Dark brown shadows */
    
    /* UI Colors - Minimal & Clean */
    --ui-black: #000000;        /* Pure black for clean UI elements */
    --ui-dark: #1a1a1a;         /* Dark background */
    --ui-overlay: rgba(0,0,0,0.85); /* Semi-transparent overlays */
    --ui-border: rgba(255, 228, 0, 0.3); /* Subtle golden borders */
    --text-primary: #ffffff;     /* Pure white text */
    --text-secondary: #f0f0f0;   /* Slightly dimmed text */
    --text-muted: #cccccc;       /* Muted text for less important info */
    
    /* Interactive States */
    --hover-glow: rgba(255, 200, 0, 0.4); /* Golden glow on hover */
    --focus-ring: rgba(255, 228, 0, 0.6); /* Focus indicators */
    
    /* Typography System */
    --font-ui: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-story: 'Merriweather', Georgia, 'Times New Roman', serif;
}

/* ==========================================================================
   GLOBAL RESET & BASE STYLES
   ========================================================================== */

/* GLOBAL RESET: Remove default spacing that browsers add */
* {
    margin: 0;              
    padding: 0;             
    box-sizing: border-box; 
}

/* MAIN PAGE STYLING: Sets up the overall appearance */
body {
    font-family: var(--font-story);        /* Merriweather for default reading */
    font-optical-sizing: auto;      
    -webkit-font-smoothing: antialiased; 
    -moz-osx-font-smoothing: grayscale;  
    text-rendering: optimizeLegibility;   
    background: var(--ui-dark);           
    color: var(--text-primary);                    
    overflow: hidden;               
    height: 100vh;                  
}

/* ==========================================================================
   LAYOUT COMPONENTS
   ========================================================================== */

/* STORY CONTAINER: Main wrapper for the entire application */
.story-container {
    position: relative;     
    width: 100%;           
    height: 100vh;         
    display: flex;         
    flex-direction: column; 
}

/* BACKGROUND LAYER: The visual backdrop that changes with each scene */
.background {
    position: absolute;               
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;           
    background-position: center;      
    background-repeat: no-repeat;     
    filter: brightness(0.6);         /* Darker for better text contrast */
    transition: all 1.5s ease-in-out; 
    z-index: 1;                      
}

/* GRADIENT OVERLAY: Subtle overlay that showcases artwork */
.gradient-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        to bottom,
        rgba(0,0,0,0.1) 0%,    /* Very minimal at top for artwork visibility */
        rgba(0,0,0,0.05) 70%,  /* Almost transparent in middle */
        rgba(0,0,0,0.7) 100%   /* Darker only at bottom for dialogue readability */
    );
    z-index: 2; 
}

/* UI OVERLAY: Contains all interactive elements */
.ui-overlay {
    position: relative; 
    z-index: 10;       
    height: 100%;      
    display: flex;     
    flex-direction: column; 
}

/* ==========================================================================
   HEADER COMPONENTS - MINIMAL TOP BAR
   ========================================================================== */

/* TITLE BAR: Minimal and unobtrusive */
.title-bar {
    background: rgba(0,0,0,0.7);              /* Less opaque */
    padding: 8px 15px;                        /* More compact padding */
    border-bottom: 1px solid var(--ui-border); 
    backdrop-filter: blur(6px);               /* Less blur */
    text-align: center;                       /* Center all text content */
}

/* MAIN TITLE: Compact typography */
.title {
    font-family: var(--font-ui);               
    font-size: 1.4rem;                        /* Slightly smaller */
    font-weight: 700;                          
    color: var(--mikado-yellow);                           
    text-shadow: 1px 1px 2px rgba(0,0,0,0.8); 
}

/* SUBTITLE: More subtle secondary text */
.subtitle {
    font-family: var(--font-ui);               
    font-size: 0.8rem;                        /* Smaller */
    color: var(--text-muted);        
    font-style: italic; 
    margin-top: 2px;                          /* Less space */
}

/* PROGRESS BAR: More subtle progress indicator */
.progress-bar {
    height: 3px;                              /* Thinner */
    background: rgba(255,255,255,0.1);  
    margin-top: 6px;                          /* Less space */
    border-radius: 2px;                 
    overflow: hidden;                   
}

/* PROGRESS FILL: Warm golden fill */
.progress-fill {
    height: 100%;                                    
    background: linear-gradient(90deg, var(--mikado-yellow), var(--canary)); /* Golden gradient */
    transition: width 0.8s ease;                    
    width: 0%;                                       
    border-radius: 2px;                              /* Rounded for charm */
}

/* ==========================================================================
   MAIN CONTENT AREA - BOTTOM-ANCHORED VN STYLE
   ========================================================================== */

/* MAIN CONTENT: Bottom-anchored like professional VNs */
.main-content {
    flex: 1;                    
    display: flex;              
    align-items: flex-end;      
    padding: 15px;              /* Add some breathing room from edges */
}

/* MAIN CONTENT: Remove padding when showing full story */
.main-content.full-story-mode {
    padding: 0;                 /* Remove all padding for full story view */
    align-items: stretch;       /* Use full height */
}

/* DIALOGUE BOX: Compact and elegant VN-style interface */
.dialogue-box {
    background: rgba(0,0,0,0.85);             /* More transparent to show artwork */
    border: none;                             
    border-radius: 12px;                      /* Slightly more rounded for elegance */
    padding: 20px;                            /* Much more compact padding */
    width: 100%;                               
    max-width: 800px;                         /* Prevent it from being too wide */
    margin: 0 auto;                           /* Center it */
    backdrop-filter: blur(8px);               /* Add subtle blur for depth */
    box-shadow: 0 8px 32px rgba(0,0,0,0.4);   /* Softer, more diffused shadow */
    animation: fadeInUp 0.3s ease-out;       
    border-top: 1px solid var(--ui-border);  
}

/* SPEAKER NAME: More compact character identification */
.speaker-name {
    font-family: var(--font-story);            
    font-size: 1rem;                          /* Slightly smaller */
    font-weight: 600;            
    color: var(--canary);        
    margin-bottom: 8px;                       /* Less space below */
    text-transform: uppercase;   
    letter-spacing: 0.5px;      
}

/* DIALOGUE TEXT: More compact storytelling */
.dialogue-text {
    font-family: var(--font-story);            
    font-size: 1rem;                          /* Slightly smaller for compactness */
    line-height: 1.6;                         /* Tighter line spacing */
    color: var(--text-secondary);       
    margin-bottom: 15px;                      /* Less space below */
    min-height: 48px;                         /* Smaller minimum height */
}

/* CONTROLS CONTAINER: Compact single-line layout */
.controls {
    display: flex;              
    justify-content: space-between; 
    align-items: center;        
    margin-top: 0;                            /* Remove top margin */
    flex-wrap: wrap;           
    gap: 10px;                                /* Tighter spacing */
}

/* NAVIGATION BUTTONS: More compact buttons */
.nav-button {
    font-family: var(--font-ui);               
    background: var(--ui-black);               
    color: var(--text-primary);               
    border: 1px solid var(--ui-border);       
    padding: 8px 16px;                        /* Much more compact padding */
    border-radius: 6px;                       /* Subtle rounding */
    cursor: pointer;                       
    font-size: 0.85rem;                       /* Smaller font */
    font-weight: 500;                      
    transition: all 0.2s ease;               
    text-transform: uppercase;             
    letter-spacing: 0.3px;                    /* Less aggressive spacing */
    min-width: 80px;                          /* Smaller minimum width */
}

/* BUTTON HOVER EFFECTS: Subtle glow effect */
.nav-button:hover {
    background: var(--ui-black);              /* Keep black background */
    border-color: var(--mikado-yellow);      /* Golden border on hover */
    box-shadow: 0 0 10px var(--hover-glow);  /* Subtle glow */
    transform: none;                          /* Remove movement for cleaner feel */
}

/* DISABLED BUTTONS: Muted state */
.nav-button:disabled {
    background: var(--ui-black);    
    color: var(--text-muted);
    border-color: rgba(255,255,255,0.1);
    cursor: not-allowed; 
    box-shadow: none;    
}

/* SCENE COUNTER: More compact information display */
.scene-counter {
    font-family: var(--font-ui);               
    color: var(--text-muted);         
    font-size: 0.8rem;                        /* Smaller font */
    text-align: center;
    white-space: nowrap;                      /* Prevent wrapping */
}

/* AUDIO CONTROLS: Compact inline layout */
.audio-controls {
    display: flex;       
    align-items: center; 
    gap: 8px;                                 /* Tighter spacing */
    margin-top: 0;                            /* Remove top margin */
    flex-wrap: nowrap;                        /* Keep inline */
}

/* VOLUME CONTROL: More compact volume */
.volume-control {
    display: flex;       
    align-items: center; 
    gap: 6px;                                 /* Tighter spacing */
}

.volume-control span {
    font-size: 0.7rem;                        /* Smaller label */
    color: var(--text-muted);
    white-space: nowrap;
}

/* VOLUME SLIDER: Smaller slider */
.volume-slider {
    width: 60px;                              /* Smaller slider */
    accent-color: var(--mikado-yellow); 
}

/* COMPACT LAYOUT: Group controls more efficiently */
.controls-row-1 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    margin-bottom: 8px;                       /* Small gap between rows */
}

.controls-row-2 {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
}

/* ==========================================================================
   MODAL DIALOGS - CHARMING & WARM
   ========================================================================== */

/* MODAL BACKGROUND: Professional overlay */
.modal {
    position: fixed;                    
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.95);       /* Darker overlay */
    display: flex;                     
    justify-content: center;           
    align-items: center;               
    z-index: 1000;                     
    backdrop-filter: blur(8px);        /* More blur for charm */
}

/* MODAL CONTENT BOX: Warm and charming dialog */
.modal-content {
    background: linear-gradient(135deg, #2c1810, #3d2317); /* Warm brown gradient */
    padding: 40px;                      
    border-radius: 20px;                /* Charming rounded corners */
    border: 3px solid var(--mikado-yellow);  /* Prominent golden border */
    text-align: center;                 
    max-width: 500px;                   
    width: 90%;                         
    box-shadow: 0 20px 40px rgba(0,0,0,0.8); /* Warmer shadow */
    animation: modalSlideIn 0.5s ease-out;   /* Slightly slower, more charming */
}

/* MODAL HEADING: UI heading with Inter */
.modal h2 {
    font-family: var(--font-ui);               /* Inter for UI elements */
    color: var(--canary);        
    margin-bottom: 20px;   
    font-size: 1.8rem;     
    font-weight: 700;      
    text-shadow: 2px 2px 4px rgba(0,0,0,0.8); /* Warmer shadow */
}

/* MODAL PARAGRAPH: Story content with Merriweather */
.modal p {
    font-family: var(--font-story);            /* Merriweather for story content */
    color: #f0f0f0;          /* Warmer text color */
    margin-bottom: 25px;   
    line-height: 1.6;      
}

/* MODAL INPUT: UI element with Inter */
.modal input {
    font-family: var(--font-ui);               /* Inter for UI elements */
    width: 100%;                        
    padding: 15px;                      
    border: 2px solid var(--russet);           /* Brown border */
    border-radius: 12px;                       /* Rounded corners */
    background: rgba(0,0,0,0.7);               /* Semi-transparent */
    color: var(--text-primary);                       
    font-size: 1.1rem;                  
    margin-bottom: 20px;                
    text-align: center;                 
}

/* INPUT FOCUS EFFECT: Charming focus state */
.modal input:focus {
    outline: none;                             
    border-color: var(--mikado-yellow);                     
    box-shadow: 0 0 15px rgba(255, 200, 0, 0.4); /* Golden glow */
}

/* MODAL BUTTONS: Charming button styling */
.modal .nav-button {
    font-family: var(--font-ui);               /* Inter for UI elements */
    background: linear-gradient(135deg, var(--russet), #A0522D); /* Brown gradient */
    color: white;                          
    border: none;                          
    padding: 15px 30px;                    
    border-radius: 12px;                   /* Rounded corners */
    cursor: pointer;                       
    font-size: 1rem;                       
    font-weight: 600;                      
    transition: all 0.3s ease;            
    text-transform: uppercase;             
    letter-spacing: 0.8px;                 
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

/* MODAL BUTTON HOVER: Charming hover effect */
.modal .nav-button:hover {
    background: linear-gradient(135deg, #A0522D, #CD853F); /* Lighter gradient */
    transform: translateY(-2px);           /* Playful movement */
    box-shadow: 0 6px 18px rgba(139, 69, 19, 0.4); /* Warm shadow */
}

/* ==========================================================================
   STATUS INDICATORS - MINIMAL DESIGN
   ========================================================================== */

/* MQTT STATUS: Clean status indicator with Inter */
.mqtt-status {
    font-family: var(--font-ui);               /* Inter for UI elements */
    position: fixed;      
    top: 15px;           
    right: 15px;         
    padding: 6px 12px;  
    border-radius: 4px; 
    font-size: 0.75rem;   
    font-weight: 600;     
    z-index: 100;        
    transition: all 0.3s ease; 
}

/* CONNECTED STATUS: Minimal green indicator */
.mqtt-connected {
    background: rgba(0, 150, 0, 0.9); 
    color: white;                      
}

/* DISCONNECTED STATUS: Minimal red indicator */
.mqtt-disconnected {
    background: rgba(150, 0, 0, 0.9); 
    color: white;                      
}

/* ==========================================================================
   BACKGROUND THEMES - REFINED GRADIENTS
   ========================================================================== */

/* PARK SCENE: Subtle green theme */
.bg-park {
    background: linear-gradient(135deg, #2e5c2e, #4a7c59);
}

/* OFFICE SCENE: Warm brown theme using new palette */
.bg-office {
    background: linear-gradient(135deg, var(--kobicha), var(--russet));
}

/* BATTLEFIELD SCENE: Dramatic red theme */
.bg-battlefield {
    background: linear-gradient(135deg, #8B2635, #A84A3B);
}

/* PEACE SCENE: Calming blue theme */
.bg-peace {
    background: linear-gradient(135deg, #2C5F6C, #4A9DB0);
}

/* ==========================================================================
   ANIMATIONS & EFFECTS - SUBTLE & PROFESSIONAL
   ========================================================================== */

/* FADE IN UP: Subtle entrance animation */
@keyframes fadeInUp {
    from {
        opacity: 0;                    
        transform: translateY(10px);   /* Less dramatic movement */
    }
    to {
        opacity: 1;                    
        transform: translateY(0);      
    }
}

/* MODAL SLIDE IN: Clean modal entrance */
@keyframes modalSlideIn {
    from {
        opacity: 0;              
        transform: scale(0.95);   /* Less dramatic scaling */
    }
    to {
        opacity: 1;              
        transform: scale(1);     
    }
}

/* SCENE TITLE ANIMATION: Story title with Merriweather */
.scene-title {
    font-family: var(--font-story);            /* Merriweather for story titles */
    position: absolute;                              
    top: 50%;                                       
    left: 50%;                                      
    transform: translate(-50%, -50%);               
    font-size: 1.8rem;                              
    color: var(--canary);                                 
    text-shadow: 2px 2px 8px rgba(0,0,0,0.9);     
    opacity: 0;                                     
    animation: sceneTitleFade 1.5s ease-out;      /* Faster animation */
    pointer-events: none;                           
    z-index: 5;                                     
    font-weight: 400;                              /* Regular weight for serif */
    font-style: italic;                            /* Elegant italic for scene titles */
}

@keyframes sceneTitleFade {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }  
    25% { opacity: 1; transform: translate(-50%, -50%) scale(1); }   
    75% { opacity: 1; transform: translate(-50%, -50%) scale(1); }   
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.05); } 
}

/* ==========================================================================
   RESPONSIVE DESIGN - MOBILE OPTIMIZATION
   ========================================================================== */

/* MOBILE STYLES: Compact mobile adaptations */
@media (max-width: 768px) {
    .title {
        font-size: 1.2rem;                        /* Proportionally smaller */
    }
    
    .title-bar {
        padding: 6px 12px;                        /* Even more compact on mobile */
    }
    
    .main-content {
        padding: 10px;                            /* Even tighter on mobile */
    }
    
    .dialogue-box {
        padding: 15px;                            /* More compact on mobile */
        border-radius: 8px;                       /* Less rounding on mobile */
    }
    
    .dialogue-text {
        font-size: 0.95rem;                       /* Slightly smaller on mobile */
        line-height: 1.5;                         /* Tighter line spacing */
        min-height: 40px;                         /* Smaller minimum height */
    }
    
    .speaker-name {
        font-size: 0.9rem;                        /* Smaller on mobile */
        margin-bottom: 6px;                       /* Less space */
    }
    
    .controls-row-1 {
        margin-bottom: 6px;                       /* Tighter spacing */
    }
    
    .controls-row-2 {
        gap: 8px;                                 /* Tighter gap on mobile */
    }
    
    .nav-button {
        padding: 6px 10px;                        /* Even more compact on mobile */
        font-size: 0.8rem;                        /* Smaller font */
        min-width: 60px;                          /* Smaller buttons */
    }
    
    .nav-button#audioToggle,
    .nav-button[onclick="resetStory()"],
    .nav-button[onclick="showFullStory()"] {
        padding: 5px 8px;                         /* Very compact special buttons */
        font-size: 0.7rem;                        /* Smaller font */
        min-width: 45px;                          /* Smaller minimum width */
    }
    
    .volume-slider {
        width: 50px;                              /* Smaller slider on mobile */
    }
    
    .scene-counter {
        font-size: 0.75rem;                       /* Smaller on mobile */
    }
}

/* AUDIO TOGGLE & RESTART BUTTONS: Compact special buttons */
.nav-button#audioToggle,
.nav-button[onclick="resetStory()"],
.nav-button[onclick="showFullStory()"] {
    font-family: var(--font-ui);               
    background: linear-gradient(135deg, var(--russet), #A0522D); 
    border: 1px solid var(--mikado-yellow);       
    border-radius: 6px;                           /* Match other buttons */
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);        
    padding: 6px 12px;                            /* Even more compact */
    font-size: 0.75rem;                           /* Smaller font */
    min-width: 60px;                              /* Smaller minimum width */
}

/* SPECIAL BUTTON HOVER: Charming hover for audio/restart buttons */
.nav-button#audioToggle:hover,
.nav-button[onclick="resetStory()"]:hover,
.nav-button[onclick="showFullStory()"]:hover {
    background: linear-gradient(135deg, #A0522D, #CD853F); /* Lighter gradient */
    border-color: var(--canary);                          /* Bright border */
    box-shadow: 0 4px 12px rgba(139, 69, 19, 0.4);       /* Warm glow */
    transform: translateY(-1px);                          /* Subtle lift */
} 